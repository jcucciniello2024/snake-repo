<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>Snake – Pure HTML/CSS/JS</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>

<style>
  body {
    margin: 0;
    height: 100vh;
    background: #0a0a0a;
    color: #0f0;
    font-family: Arial, Helvetica, sans-serif;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    overflow: hidden;
  }

  h1 {
    margin: 0.4em 0 0.3em;
    color: #0f5;
    text-shadow: 0 0 10px #0f8;
    font-size: 2.4rem;
  }

  #game-container {
    position: relative;
  }

  #board {
    width:  400px;
    height: 400px;
    background: #000;
    border: 3px solid #333;
    box-shadow: 0 0 30px #0f08 inset;
    position: relative;
    overflow: hidden;
  }

  .snake-part {
    position: absolute;
    width: 20px;
    height: 20px;
    background: linear-gradient(135deg, #0f8, #0c5);
    border: 1px solid #0a0;
    box-sizing: border-box;
    border-radius: 4px;
    box-shadow: 0 0 8px #0f8;
    transition: all 0.04s;
  }

  .food {
    position: absolute;
    width: 20px;
    height: 20px;
    background: radial-gradient(circle at 30% 30%, #ff4444, #ff0000);
    border-radius: 50%;
    border: 2px solid #ff8888;
    box-shadow: 0 0 12px #f44, inset 0 0 6px #f88;
  }

  #ui {
    margin-top: 1.5rem;
    text-align: center;
    font-size: 1.3rem;
  }

  #score {
    color: #ff0;
    font-weight: bold;
    margin: 0.4em 0;
  }

  .controls {
    margin-top: 1rem;
    color: #888;
    font-size: 0.95rem;
    line-height: 1.6;
  }

  button {
    margin-top: 1.2rem;
    padding: 12px 28px;
    font-size: 1.2rem;
    background: #222;
    color: #0f8;
    border: 2px solid #0f8;
    border-radius: 8px;
    cursor: pointer;
    transition: all 0.15s;
  }

  button:hover {
    background: #0f84;
    color: black;
    box-shadow: 0 0 20px #0f8;
  }

  button:active {
    transform: scale(0.96);
  }
</style>
</head>
<body>

<h1>Snake</h1>

<div id="game-container">
  <div id="board"></div>
</div>

<div id="ui">
  <div id="score">Score: 0</div>
  <button id="startBtn">Start Game</button>
  <div class="controls">
    Use arrow keys or WASD<br>
    Eat the red food • Grow • Don't hit walls or yourself
  </div>
</div>

<script>
// ────────────────────────────────────────────────
//          SNAKE – Pure DOM version (2025 style)
// ────────────────────────────────────────────────

const board = document.getElementById('board');
const scoreDisplay = document.getElementById('score');
const startBtn = document.getElementById('startBtn');

const GRID_SIZE = 20;
const CELL = 20; // px
let snake = [{x: 10, y: 10}];
let food = null;
let dx = 1;
let dy = 0;
let score = 0;
let gameInterval = null;
let gameRunning = false;

// Create grid (visual helper – optional)
for (let i = 0; i < GRID_SIZE * GRID_SIZE; i++) {
  const dot = document.createElement('div');
  dot.style.position = 'absolute';
  dot.style.width = '2px';
  dot.style.height = '2px';
  dot.style.background = '#111';
  dot.style.left = (i % GRID_SIZE) * CELL + CELL/2 - 1 + 'px';
  dot.style.top  = Math.floor(i / GRID_SIZE) * CELL + CELL/2 - 1 + 'px';
  board.appendChild(dot);
}

// ─── Elements ──────────────────────────────────────
function createPart(pos) {
  const el = document.createElement('div');
  el.className = 'snake-part';
  el.style.left = pos.x * CELL + 'px';
  el.style.top  = pos.y * CELL + 'px';
  board.appendChild(el);
  return el;
}

let snakeElements = snake.map(createPart);

function createFood() {
  if (food) food.remove();

  let x, y;
  do {
    x = Math.floor(Math.random() * GRID_SIZE);
    y = Math.floor(Math.random() * GRID_SIZE);
  } while (snake.some(s => s.x === x && s.y === y));

  food = document.createElement('div');
  food.className = 'food';
  food.style.left = x * CELL + 'px';
  food.style.top  = y * CELL + 'px';
  board.appendChild(food);

  return {x, y};
}

// ─── Game logic ────────────────────────────────────
function move() {
  if (!gameRunning) return;

  const head = { x: snake[0].x + dx, y: snake[0].y + dy };

  // Wall collision
  if (head.x < 0 || head.x >= GRID_SIZE || head.y < 0 || head.y >= GRID_SIZE) {
    gameOver();
    return;
  }

  // Self collision
  if (snake.some(s => s.x === head.x && s.y === head.y)) {
    gameOver();
    return;
  }

  snake.unshift(head);

  // Eat food?
  if (head.x === food.x && head.y === food.y) {
    score++;
    scoreDisplay.textContent = `Score: ${score}`;
    food = createFood();
  } else {
    snake.pop();
  }

  // Update DOM
  snakeElements.forEach(el => el.remove());
  snakeElements = snake.map(createPart);
}

function changeDirection(newDx, newDy) {
  // Prevent 180° turn
  if (newDx === -dx && newDy === -dy) return;
  dx = newDx;
  dy = newDy;
}

// ─── Controls ──────────────────────────────────────
window.addEventListener('keydown', e => {
  if (!gameRunning) return;

  switch (e.key.toLowerCase()) {
    case 'arrowup':    case 'w': changeDirection(0, -1); break;
    case 'arrowdown':  case 's': changeDirection(0, 1);  break;
    case 'arrowleft':  case 'a': changeDirection(-1, 0); break;
    case 'arrowright': case 'd': changeDirection(1, 0);  break;
  }
});

// Touch support (very basic – swipe)
let touchStartX = 0, touchStartY = 0;
board.addEventListener('touchstart', e => {
  touchStartX = e.touches[0].clientX;
  touchStartY = e.touches[0].clientY;
});

board.addEventListener('touchmove', e => {
  if (!gameRunning) return;
  e.preventDefault();
  const dx = e.touches[0].clientX - touchStartX;
  const dy = e.touches[0].clientY - touchStartY;

  if (Math.abs(dx) > Math.abs(dy)) {
    if (dx > 40) changeDirection(1, 0);
    else if (dx < -40) changeDirection(-1, 0);
  } else {
    if (dy > 40) changeDirection(0, 1);
    else if (dy < -40) changeDirection(0, -1);
  }
});

// ─── Game flow ─────────────────────────────────────
function startGame() {
  if (gameRunning) return;

  snake = [{x: 10, y: 10}];
  dx = 1; dy = 0;
  score = 0;
  scoreDisplay.textContent = 'Score: 0';
  gameRunning = true;
  startBtn.textContent = 'Playing...';

  snakeElements.forEach(el => el.remove());
  snakeElements = snake.map(createPart);
  food = createFood();

  if (gameInterval) clearInterval(gameInterval);
  gameInterval = setInterval(move, 140); // speed – lower = faster
}

function gameOver() {
  gameRunning = false;
  clearInterval(gameInterval);
  startBtn.textContent = 'Play Again';
  alert(`Game Over!\nScore: ${score}`);
}

startBtn.onclick = startGame;

// First food
createFood();

</script>
</body>
</html>
